<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:sec="http://www.springframework.org/security/facelets/tags">
<ui:composition template="/templates/template.xhtml">

    <ui:define name="subheader">
        #{msgs['formCreditoDetalle']}
    </ui:define>

    <f:metadata>
        <f:viewParam name="id" value="#{creditoBean.id}"/>
        <f:event type="preRenderView" listener="#{creditoBean.inicio()}"/>
    </f:metadata>

    <ui:define name="actions">
        <sec:ifAnyGranted roles="ROLE_ADMIN">
            <a href="search.jsf"
               class="BoldGray Fs18 FontRobotoLight Fright MarRight20 HoverEffect"><i
                    class="icon-list"></i> #{msgs['listar']}</a>
        </sec:ifAnyGranted>
        <a href="create.jsf?id=#{creditoBean.entity.id}"
           class="BoldGray Fs18 FontRobotoLight Fright MarRight20 HoverEffect"><i
                class="icon-edit"></i> #{msgs['btn.modificar']}</a>
        <sec:ifAnyGranted roles="ROLE_ADMIN">
            <a href="create.jsf"
               class="BoldGray Fs18 FontRobotoLight Fright MarRight20 HoverEffect"><i
                    class="icon-add"></i> #{msgs['btnNuevo']}</a>
        </sec:ifAnyGranted>
    </ui:define>

    <ui:define name="content">
        <div class="Container100 ui-fluid ">
            <div class="ContainerIndent ">
                <div class="Container80 Responsive50 MarAuto" style="float: none !important;">
                    <div class="ContainerIndent">
                        <h:panelGroup id="panelDatos">
                            <div class="Card ShadowEffect ui-fluid">
                                <h2 class="BigTopic">#{msgs['formDatosCliente']}</h2>

                                <p:panelGrid columns="4"
                                             columnClasses="ui-grid-col-2,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             style="padding: 10px;"
                                             layout="grid">
                                    <h:outputText value="#{msgs['form.codigo']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.cliente.id}"/>
                                    <h:outputText value="#{msgs['form.nombre.apellido']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.cliente.apellidoNombre}"/>
                                    <h:outputText value="#{msgs['formDni']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.cliente.dni}"/>
                                    <h:outputText value="#{msgs['formFechaCobro']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.cliente.trabajoDiaCobro}"/>
                                    <h:outputText value="#{msgs['formHorarioLaboral']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.cliente.trabajoHorario}"/>
                                    <h:outputText value="#{msgs['formLugarLaboral']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.cliente.trabajoLugar}"/>
                                </p:panelGrid>


                                <div class="EmptyBox10"></div>

                                <h2 class="BigTopic">#{msgs['formDatosCredito']}</h2>

                                <p:panelGrid columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             style="padding: 10px;"
                                             layout="grid">

                                    <h:outputText value="Porcentaje de cuotas pagas:" styleClass="FontBold"/>
                                    <h:panelGroup>
                                        <div class="knob-container ui-corner-all">
                                            <p:knob disabled="true" foregroundColor="#283593"
                                                    backgroundColor="#808080"
                                                    value="#{creditoBean.entity.porcentajeCuotasPagas()}"
                                                    labelTemplate="{value}%" width="70%"/>
                                        </div>

                                    </h:panelGroup>
                                    <h:panelGroup></h:panelGroup>
                                    <h:panelGroup>
                                        <h:panelGroup rendered="#{!creditoBean.entity.isCancelado()}">
                                            <h:outputLink id="btnCobro" value="/pages/cobro/create.jsf">
                                                <f:param name="credito_id" value="#{creditoBean.entity.id}"/>
                                                <i class="fa fa-briefcase Fs20"> #{msgs['registarCobro']}</i>
                                            </h:outputLink>
                                            <p:tooltip id="toolTip-cobro" for="btnCobro"
                                                       value="#{msgs['registarCobro']}"
                                                       trackMouse="true"/>
                                        </h:panelGroup>
                                    </h:panelGroup>

                                    <h:outputText value="#{msgs['formCapital']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.capital}">
                                        <f:convertNumber type="currency" currencySymbol="$"/>
                                    </h:outputText>
                                    <h:outputText value="#{msgs['formEstado']}:" styleClass="FontBold"/>
                                    <p:outputLabel value="#{creditoBean.entity.estado.descripcion}"
                                                   style="padding: 0px 5px 0px 5px;border-radius: 5px;"
                                                   styleClass="#{creditoBean.entity.estado.backgroundColor} White"/>
                                    <h:outputText value="#{msgs['formInteres']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.interes}%"/>
                                    <h:outputText value="#{msgs['formFechaInicio']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.fechaInicio}">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                                    <h:outputText value="#{msgs['formCuotas']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.cuotas}"/>
                                    <h:outputText value="#{msgs['formFechaVencimiento']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.fechaVencimiento}">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                                    </h:outputText>
                                    <h:outputText value="#{msgs['formCuota']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.montoCutoas}">
                                        <f:convertNumber type="currency" currencySymbol="$"/>
                                    </h:outputText>

                                    <h:outputText value="#{msgs['saldoCuenta']}:" styleClass="FontBold"/>
                                    <h:outputText value="#{creditoBean.entity.saldoCuenta}">
                                        <f:convertNumber type="currency" currencySymbol="$"/>
                                    </h:outputText>
                                </p:panelGrid>


                            </div>
                        </h:panelGroup>
                        <!--<p:sticky target="panelDatos" margin="80" />-->
                    </div>
                </div>
            </div>
        </div>

    </ui:define>
</ui:composition>
</html>

